<%= form_tag(posts_path, :method => 'post') do %>
  <%= text_field_tag 'content' %>
  <%= submit_tag 'Post', :id => 'new_post' %>
<% end %>

<% @user[:posts].each do |post| %>
  <%= post.content %>
<% end %>

<%= @user[:username] %>
  <%= form_tag(sessions_path, :method => 'delete', :class => 'logout-form', name: 'logout-form') do %>
  <%= submit_tag 'Logout', :id => 'Logout' %>
<% end %>
this is the dashboard

<script>
  document.querySelector('#new_post').addEventListener('click', postMemory)
  postMemoryByGPS = (position, content) => {
    let { coords } = position
      fetch(`/posts?lat=${coords.latitude}&lon=${coords.longitude}&content=${content}`,
    {
      headers: {
        'Accept': 'application/json',
        'Content-Type': 'application/json',
        "X-CSRF-Token": "<%= form_authenticity_token %>",
      },
      method: "POST",
      body: JSON.stringify(position)
    })
    .then(res => res.json())
    .then(res => console.log(res))
    .catch(function(res){ console.log(res) })
  }
</script>
